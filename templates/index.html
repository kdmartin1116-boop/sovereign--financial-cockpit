<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sovereign Finance Cockpit</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <!-- Unique Identifier: This is the correct index.html being rendered by Flask. -->
  <div id="global-loader" class="loader-overlay hidden" role="status" aria-live="polite">
    <div class="loader" aria-label="Loading..."></div>
  </div>

  <header class="app-header">
    <h1>🧠 Sovereign Finance Cockpit</h1>
    <div id="global-search-container">
        <input type="text" id="globalSearchInput" placeholder="Search everything...">
        <div id="searchResults" class="hidden"></div>
    </div>
    <div id="status" class="status-message"></div>
  </header>

  <div class="app-container">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="dashboard-tab" data-bs-toggle="tab" data-bs-target="#tab-dashboard" type="button" role="tab" aria-controls="tab-dashboard" aria-selected="true">Dashboard</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#tab-profile" type="button" role="tab" aria-controls="tab-profile" aria-selected="false">👤 Profile</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="creditors-tab" data-bs-toggle="tab" data-bs-target="#tab-creditors" type="button" role="tab" aria-controls="tab-creditors" aria-selected="false">📚 Creditors</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="vehicle-tab" data-bs-toggle="tab" data-bs-target="#tab-vehicle" type="button" role="tab" aria-controls="tab-vehicle" aria-selected="false">🚗 Vehicle</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="credit-report-tab" data-bs-toggle="tab" data-bs-target="#tab-credit-report" type="button" role="tab" aria-controls="tab-credit-report" aria-selected="false">💳 Credit Report</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="fdcpa-tab" data-bs-toggle="tab" data-bs-target="#tab-fdcpa" type="button" role="tab" aria-controls="tab-fdcpa" aria-selected="false">📢 FDCPA Log</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="denial-tab" data-bs-toggle="tab" data-bs-target="#tab-denial" type="button" role="tab" aria-controls="tab-denial" aria-selected="false">✉️ Denial</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="endorsement-tab" data-bs-toggle="tab" data-bs-target="#tab-endorsement" type="button" role="tab" aria-controls="tab-endorsement" aria-selected="false">💸 Endorsement</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="promise-tab" data-bs-toggle="tab" data-bs-target="#tab-promise" type="button" role="tab" aria-controls="tab-promise" aria-selected="false">🤝 Promise to Pay</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="annotator-tab" data-bs-toggle="tab" data-bs-target="#tab-annotator" type="button" role="tab" aria-controls="tab-annotator" aria-selected="false">🖋️ Annotator</button>
      </li>
    </ul>
    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" id="themeToggle">
      <label class="form-check-label" for="themeToggle">Dark Mode</label>
    </div>
    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade" id="tab-annotator" role="tabpanel" aria-labelledby="annotator-tab">
            <h2>PDF Annotator</h2>
            <div class="mb-3">
                <label for="annotatorFile" class="form-label">Upload PDF</label>
                <input class="form-control" type="file" id="annotatorFile" accept=".pdf">
            </div>
            <div id="annotation-entries"></div>
            <button type="button" class="btn btn-primary" id="addAnnotationBtn">Add Annotation</button>
            <hr>
            <h2>Signature</h2>
            <div class="row">
                <div class="col-md-6">
                    <input type="text" class="form-control" id="signatureText" placeholder="Signature Text">
                </div>
                <div class="col-md-3">
                    <input type="number" class="form-control" id="signatureX" placeholder="X-coordinate">
                </div>
                <div class="col-md-3">
                    <input type="number" class="form-control" id="signatureY" placeholder="Y-coordinate">
                </div>
            </div>
            <hr>
            <button type="button" class="btn btn-success" id="annotateAndDownloadBtn">Annotate and Download</button>
        </div>
    </div>

      </section>
    </main>